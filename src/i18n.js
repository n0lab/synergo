// src/i18n.js (Enhanced)
const translations = {
  en: {
    // Existing translations
    sidebarOracle: 'Oracle',
    sidebarNomenclatures: 'Nomenclatures',
    sidebarReviewer: 'Reviewer',
    sidebarQuizz: 'Quiz',
    sidebarLock: 'Lock menu open',
    oracleTitle: 'Oracle',
    oracleSubtitle: 'Explore non-verbal gesture resources and their nomenclatures.',
    oracleToReviewer: 'To reviewer',
    oracleToQuizz: 'To quiz',
    oracleAdd: 'Add',
    oracleVideos: 'Videos',
    oraclePhotos: 'Photos',
    oracleResetFilter: 'Reset filter',
    oracleVideoTag: 'ðŸŽ¬ Video',
    oraclePhotoTag: 'ðŸ“· Photo',
    oracleNoResults: 'No result for this nomenclature.',
    searchPlaceholder: 'Search',
    clearSearch: 'Reset search',
    reviewerTitle: 'Reviewer',
    reviewerSubtitle: 'Items to review, ready to open or remove.',
    reviewerRemove: 'Remove from Reviewer list',
    reviewerEmpty: "No items yet.",
    actionDelete: 'Delete',
    actionCancel: 'Cancel',
    actionSave: 'Save',
    actionEdit: 'Edit',
    actionToReview: 'To Review',
    actionToQuizz: 'To Quiz',
    back: 'â† Back',
    titleLabel: 'Title',
    descriptionLabel: 'Description',
    linkLabel: 'Resource link',
    previousFrame: 'â† Previous frame',
    nextFrame: 'Next frame â†’',
    play: 'Play',
    pause: 'Pause',
    nomenclaturesHeading: 'Nomenclatures',
    noTimedNomenclatures: 'No timestamped nomenclature.',
    newNomenclaturePlaceholder: 'New nomenclature',
    add: 'Add',
    addNomenclatureAria: 'New nomenclature',
    nomenclatureListTitle: 'Nomenclatures',
    deleteNomenclatureLabel: (label) => `Delete ${label}`,
    confirmDeleteResource: (title) => `Permanently delete "${title}"?`,
    confirmDeleteAnnotationVideo: (label, timestamp) =>
      `Delete nomenclature "${label}" at ${timestamp}?`,
    confirmDeleteAnnotationPhoto: (label) =>
      `Delete nomenclature "${label}" from this photo?`,
    annotationsSection: 'Nomenclatures',
    addResourceTitle: 'Add a resource',
    addResourceSubtitle: 'Create a new video or photo from the provided link.',
    resourceNameLabel: 'Resource name',
    resourceDescriptionLabel: 'Description',
    resourceLinkLabel: 'Resource link (YouTube links are not supported)',
    resourceTypeDetected: (type) => `Type detected automatically: ${type === 'photo' ? 'Photo' : 'Video'}`,
    resourceFileLabel: 'Or upload a file',
    resourceFileHelper: 'Add a link or drop a file that will be stored locally.',
    resourceErrorMissing: 'Please provide at least a name and a link or file.',
    resourceErrorYoutube: 'YouTube links are not supported.',
    resourceErrorUpload: 'The file could not be imported. Please try again.',
    resourceDuplicate: 'This resource already exists and is used here:',
    cancel: 'Cancel',
    addResourceAction: 'Add resource',
    nomenclaturePageTitle: 'Nomenclatures',
    nomenclaturePageSubtitle: 'Manage nomenclatures added via media or directly from this page.',
    nomenclatureTotalLabel: 'Nomenclatures',
    nomenclatureSearchLabel: 'Search',
    nomenclatureSearchPlaceholder: 'Filter by nomenclature, description or interpretation...',
    nomenclatureClearFilter: 'Clear filter',
    nomenclatureAdd: 'Add',
    nomenclatureErrorEmpty: 'The nomenclature cannot be empty.',
    nomenclatureErrorExists: 'This nomenclature already exists.',
    nomenclatureDeleteBlocked: 'Cannot delete a nomenclature used on a resource.',
    nomenclatureAddTitle: 'Add a nomenclature',
    nomenclatureLabel: 'Nomenclature',
    nomenclatureDescription: 'Description',
    nomenclatureInterpretation: 'Interpretation',
    nomenclatureAddExample: 'Ex: R_C_E_3_1',
    nomenclatureAddDescriptionPlaceholder: 'Context, posture...',
    nomenclatureAddInterpretationPlaceholder: 'Meaning, usage guidance...',
    nomenclatureConfirmDelete: (label) => `Delete nomenclature "${label}"? This action is permanent.`,
    save: 'Save',
    edit: 'Edit',
    delete: 'Delete',
    actions: 'Actions',
    searchNomenclature: (label) => `Search ${label}`,
    noNomenclature: 'No nomenclature saved.',
    noNomenclatureRows: 'No nomenclature saved.',
    addResourcePage: 'Add a resource',
    quizzTitle: 'Quiz',
    quizzPlaceholder: 'Selection for a future quiz',
    themeLight: 'Light mode',
    themeDark: 'Dark mode',
    switchToFrench: 'Passer en franÃ§ais',
    switchToEnglish: 'Switch to English',
    backToOracle: 'Back',
    
    // New translations
    statisticsTitle: 'Statistics',
    statisticsSubtitle: 'Overview of your library',
    settingsTitle: 'Settings',
    settingsSubtitle: 'Manage your data and preferences',
  },
  fr: {
    // Existing translations
    sidebarOracle: 'Oracle',
    sidebarNomenclatures: 'Nomenclatures',
    sidebarReviewer: 'Reviewer',
    sidebarQuizz: 'Quizz',
    sidebarLock: "Verrouiller l'ouverture du menu",
    oracleTitle: 'Oracle',
    oracleSubtitle: 'Explorez les ressources de gestes non-verbaux et leurs nomenclatures.',
    oracleToReviewer: 'Vers reviewer',
    oracleToQuizz: 'Vers quizz',
    oracleAdd: 'Ajouter',
    oracleVideos: 'VidÃ©os',
    oraclePhotos: 'Photos',
    oracleResetFilter: 'RÃ©initialiser le filtrage',
    oracleVideoTag: 'ðŸŽ¬ VidÃ©o',
    oraclePhotoTag: 'ðŸ“· Photo',
    oracleNoResults: 'Aucun rÃ©sultat pour cette nomenclature.',
    searchPlaceholder: 'Rechercher',
    clearSearch: 'RÃ©initialiser la recherche',
    reviewerTitle: 'Reviewer',
    reviewerSubtitle: 'Ã‰lÃ©ments Ã  revoir, prÃªts Ã  Ãªtre ouverts ou retirÃ©s.',
    reviewerRemove: 'Retirer de la liste Reviewer',
    reviewerEmpty: "Aucun Ã©lÃ©ment pour l'instant.",
    actionDelete: 'Supprimer',
    actionCancel: 'Annuler',
    actionSave: 'Enregistrer',
    actionEdit: 'Ã‰diter',
    actionToReview: 'Vers reviewer',
    actionToQuizz: 'Vers quizz',
    back: 'â† Retour',
    titleLabel: 'Titre',
    descriptionLabel: 'Description',
    linkLabel: 'Lien de la ressource',
    previousFrame: 'â† Frame prÃ©cÃ©dente',
    nextFrame: 'Frame suivante â†’',
    play: 'Lecture',
    pause: 'Pause',
    nomenclaturesHeading: 'Nomenclatures',
    noTimedNomenclatures: 'Aucune nomenclature horodatÃ©e.',
    newNomenclaturePlaceholder: 'Nouvelle nomenclature',
    add: 'Ajouter',
    addNomenclatureAria: 'Nouvelle nomenclature',
    nomenclatureListTitle: 'Nomenclatures',
    deleteNomenclatureLabel: (label) => `Supprimer ${label}`,
    confirmDeleteResource: (title) => `Supprimer dÃ©finitivement "${title}" ?`,
    confirmDeleteAnnotationVideo: (label, timestamp) =>
      `Supprimer la nomenclature "${label}" Ã  ${timestamp} ?`,
    confirmDeleteAnnotationPhoto: (label) =>
      `Supprimer la nomenclature "${label}" de cette photo ?`,
    annotationsSection: 'Nomenclatures',
    addResourceTitle: 'Ajouter une ressource',
    addResourceSubtitle: 'CrÃ©ez une nouvelle vidÃ©o ou photo en fonction du lien fourni.',
    resourceNameLabel: 'Nom de la ressource',
    resourceDescriptionLabel: 'Description',
    resourceLinkLabel: 'Lien de la ressource (liens YouTube non pris en charge)',
    resourceTypeDetected: (type) =>
      `Le type est dÃ©tectÃ© automatiquement : ${type === 'photo' ? 'Photo' : 'VidÃ©o'}`,
    resourceFileLabel: 'Ou importer un fichier',
    resourceFileHelper: 'Ajoutez un lien ou dÃ©posez un fichier qui sera conservÃ© localement.',
    resourceErrorMissing: 'Merci de renseigner au minimum un nom et un lien ou un fichier.',
    resourceErrorYoutube: 'Les liens YouTube ne sont pas pris en charge.',
    resourceErrorUpload: "Le fichier n'a pas pu Ãªtre importÃ©. Merci de rÃ©essayer.",
    resourceDuplicate: 'DÃ©solÃ© cette ressource existe dÃ©jÃ  et est utilisÃ© ici :',
    cancel: 'Annuler',
    addResourceAction: 'Ajouter la ressource',
    nomenclaturePageTitle: 'Nomenclatures',
    nomenclaturePageSubtitle:
      'GÃ©rez les nomenclatures ajoutÃ©es via les mÃ©dias ou directement depuis cette page.',
    nomenclatureTotalLabel: 'Nomenclatures enregistrÃ©es',
    nomenclatureSearchLabel: 'Rechercher',
    nomenclatureSearchPlaceholder: 'Filtrer par nomenclature, description ou interprÃ©tation...',
    nomenclatureClearFilter: 'Effacer le filtre',
    nomenclatureAdd: 'Ajouter',
    nomenclatureErrorEmpty: 'La nomenclature ne peut pas Ãªtre vide.',
    nomenclatureErrorExists: 'Cette nomenclature existe dÃ©jÃ .',
    nomenclatureDeleteBlocked: 'Impossible de supprimer une nomenclature utilisÃ©e sur une ressource.',
    nomenclatureAddTitle: 'Ajouter une nomenclature',
    nomenclatureLabel: 'Nomenclature',
    nomenclatureDescription: 'Description',
    nomenclatureInterpretation: 'InterprÃ©tation',
    nomenclatureAddExample: 'Ex: R_C_E_3_1',
    nomenclatureAddDescriptionPlaceholder: 'Contexte, posture...',
    nomenclatureAddInterpretationPlaceholder: 'Sens, guidance d\'usage...',
    nomenclatureConfirmDelete: (label) =>
      `Supprimer la nomenclature "${label}" ? Cette action est dÃ©finitive.`,
    save: 'Enregistrer',
    edit: 'Modifier',
    delete: 'Supprimer',
    actions: 'Actions',
    searchNomenclature: (label) => `Rechercher ${label}`,
    noNomenclature: 'Aucune nomenclature enregistrÃ©e.',
    noNomenclatureRows: 'Aucune nomenclature enregistrÃ©e.',
    addResourcePage: 'Ajouter une ressource',
    quizzTitle: 'Quizz',
    quizzPlaceholder: 'SÃ©lection pour quiz futur',
    themeLight: 'Mode clair',
    themeDark: 'Mode sombre',
    switchToFrench: 'Passer en franÃ§ais',
    switchToEnglish: 'Switch to English',
    backToOracle: 'Retour',
    
    // New translations
    statisticsTitle: 'Statistiques',
    statisticsSubtitle: 'Vue d\'ensemble de votre bibliothÃ¨que',
    settingsTitle: 'ParamÃ¨tres',
    settingsSubtitle: 'GÃ©rez vos donnÃ©es et prÃ©fÃ©rences',
  },
};

export const translate = (language, key, params) => {
  const value = translations[language]?.[key];
  if (typeof value === 'function') {
    return value(params?.first ?? params?.label ?? params?.title ?? params?.type ?? params, params?.second);
  }
  return value ?? key;
};
